"use strict";(self.webpackChunkrubic=self.webpackChunkrubic||[]).push([[618],{94618:(y,m,t)=>{t.r(m),t.d(m,{RetrodropModule:()=>L});var a=t(60177),h=t(89417),u=t(30640),N=t(44819),b=t(45387),l=t(13910),v=t(6249),D=t(72782),F=t(72180),B=t(64035),E=t(74710),i=t(17705),A=t(56463),M=t(50317);const U=[{path:"",component:(()=>{class r{static#t=this.\u0275fac=function(e){return new(e||r)};static#r=this.\u0275cmp=i.VBU({type:r,selectors:[["app-retrodrop-finished"]],decls:2,vars:0,consts:[[1,"retrodrop"],["label","Retrodrop is completed!","description","Rubicans, the retrodrop distribution is officially complete! Thanks to all our OGs for being part of the journey!"]],template:function(e,c){1&e&&(i.j41(0,"app-window-container",0),i.nrm(1,"app-no-result",1),i.k0s())},dependencies:[A.r,M.q],styles:["[_ngcontent-%COMP%]:root{--app-background: #282935;--primary-background: var(--tui-base-01);--secondary-background: var(--tui-secondary);--dropdpwn-background: rgba(60, 61, 68, .85);--io-background: #222331;--tui-primary: #d1384d;--tui-primary-hover: #e42f47;--tui-primary-active: #e42f47;--tui-primary-text: #ffffff;--tui-secondary: #3b3d4f;--tui-secondary-hover: #4c4e67;--tui-secondary-active: #4c4e67;--tui-elevation-01: var(--tui-secondary);--tui-elevation-02: var(--tui-secondary);--tui-clear: var(--primary-background);--tui-link: white;--tui-link-hover: white;--tui-warn: #cfa200;--tui-base-01: #2c2d3e;--tui-base-02: #2c2d3e;--tui-base-03: #2c2d3e;--tui-base-04: #4d4d59;--tui-text-01: white;--tui-text-02: #9a9ab0;--tui-text-03: #9a9ab0;--tui-padding-xs: .25rem;--tui-padding-s: .5rem;--tui-padding-xl: 1.25rem;--tui-padding-4xl: 2rem;--tui-disabled-opacity: .5;--tui-radius-l: 17px;--tui-radius-m: 17px;--tui-radius-s: 12px}[_nghost-%COMP%]{display:flex;justify-content:center}@media (max-width: 900px){[_nghost-%COMP%]     tui-scrollbar .t-content{margin-top:0;margin-right:0}}[_nghost-%COMP%]     tui-scrollbar{height:355px}[_nghost-%COMP%]     tui-scrollbar .t-content{display:flex;flex-direction:column;gap:var(--tui-padding-xs)}[_nghost-%COMP%]   app-window-container[_ngcontent-%COMP%]   tui-loader[_ngcontent-%COMP%]{margin-left:10px}[_nghost-%COMP%]   app-no-result[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .retrodrop[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--tui-padding-l);width:100%;max-width:540px;height:425px}"],changeDetection:0})}return r})()}];let Q=(()=>{class r{static#t=this.\u0275fac=function(e){return new(e||r)};static#r=this.\u0275mod=i.$C({type:r});static#e=this.\u0275inj=i.G2t({imports:[E.iI.forChild(U)]})}return r})();var g=t(7673),$=t(67337);let x=(()=>{class r{constructor(o){this.httpService=o}fetchRetrodropUserInfo(o){if(!o)return(0,g.of)([]);try{return this.httpService.get("v2/merkle_proofs/retrodrop",{address:o})}catch{return(0,g.of)([])}}static#t=this.\u0275fac=function(e){return new(e||r)(i.KVO($.k))};static#r=this.\u0275prov=i.jDH({token:r,factory:r.\u0275fac})}return r})();var j=t(74523),S=t(84412),I=t(86648),W=t(99437),G=t(55748);const P=["0xd4557e220D62dfBFBceA460402b8B87eca96e3c6","0x06C6C3B4af4D2334614995713C02Eb51BEb74110","0xF8F60a15Cb51c47af5E25F8aBd10626BA8C8AA73","0x52bCFBeC1cc3bC005Eee79f336FbD4B6ba155aC7","0x4d0092b90E985FdcE17500bdB1CBE7761Ec1526D","0xB5c53B460Ce3C241ef06b0f0fC762B85d73753b4","0x983fBd25AC86a8b2783eB5be2f5C4c24ccFb6c18","0xd2E12b9cb17db4AA8E45Ab6b970A7Ec9Db0B228A","0xb2277b72794cb26bA356dFCA6d92AbAFA4f64114","0xB1934a1Fbd10B58613038df07E973Af98CfFbe0B","0x8a29fC88EB47F88b40057140780a73aA37fdeBeb","0xF30a9AA0e8E37A2d8C86f73017EcB4C33C307214"];var s=t(97878);const C=[{roundNumber:1,claimDate:"24.08.2023 - 24.02.2024",status:"active",claimName:"retrodrop",isParticipantOfPrevRounds:!1,...s.Q},{roundNumber:2,claimDate:"26.09.2023 - 26.03.2024",status:"active",claimName:"retrodrop",isParticipantOfPrevRounds:!1,...s.Q},{roundNumber:3,claimDate:"24.10.2023 - 24.04.2024",status:"active",claimName:"retrodrop",isParticipantOfPrevRounds:!1,...s.Q},{roundNumber:4,claimDate:"27.11.2023 - 27.05.2024",status:"active",claimName:"retrodrop",isParticipantOfPrevRounds:!1,...s.Q},{roundNumber:5,claimDate:"26.12.2023 - 26.06.2024",status:"active",claimName:"retrodrop",isParticipantOfPrevRounds:!1,...s.Q},{roundNumber:6,claimDate:"30.01.2024 - 30.07.2024",status:"active",claimName:"retrodrop",isParticipantOfPrevRounds:!1,...s.Q},{roundNumber:7,claimDate:"29.02.2024 - 29.08.2024",status:"active",claimName:"retrodrop",isParticipantOfPrevRounds:!1,...s.Q},{roundNumber:8,claimDate:"28.03.2024 - 28.09.2024",status:"active",claimName:"retrodrop",isParticipantOfPrevRounds:!1,...s.Q},{roundNumber:9,claimDate:"27.04.2024 - 27.10.2024",status:"active",claimName:"retrodrop",isParticipantOfPrevRounds:!1,...s.Q},{roundNumber:10,claimDate:"24.05.2024 - 24.11.2024",status:"active",claimName:"retrodrop",isParticipantOfPrevRounds:!1,...s.Q},{roundNumber:11,claimDate:"27.06.2024 - 27.12.2024",status:"active",claimName:"retrodrop",isParticipantOfPrevRounds:!1,...s.Q},{roundNumber:12,claimDate:"01.08.2024 - 01.02.2025",status:"active",claimName:"retrodrop",isParticipantOfPrevRounds:!1,...s.Q}];var T=t(93359),V=t(48673),z=t(35763),H=t(66841);let K=(()=>{class r extends H.q{constructor(o){super(),this.retrodropApiService=o,this._isUserParticipantOfRetrodrop$=new S.t(!1),this.isUserParticipantOfRetrodrop$=this._isUserParticipantOfRetrodrop$.asObservable(),this.EXPIRED_ROUNDS_NUMBER=[1,2,3,4,5,6,7,8,9,10,11,12],this.subscribeOnWalletChange()}setUserInfo(o,e){this._fetchUserInfoLoading$.next(!0),this.retrodropApiService.fetchRetrodropUserInfo(e).pipe((0,z.AO)(c=>(this._isUserParticipantOfRetrodrop$.next(c.some(p=>p.is_participant)),(0,I.H)(this.setRounds(e,o,c)))),(0,W.W)(c=>(console.log("%cretrodrop_fetchError ==> ",c),this._fetchError$.next(!0),(0,g.of)()))).subscribe(()=>{this._fetchError$.next(!1),this._fetchUserInfoLoading$.next(!1)})}setRounds(o,e,c){var p=this;return(0,j.A)(function*(){const X=c.map(n=>{const R=P[n.round-1];if(n.is_participant&&R&&n.index){const d=G.Web3Pure.fromWei(n.amount);return p.claimWeb3Service.checkClaimed(P[n.round-1],n.index).then(f=>{const O=C.find(Y=>Y.roundNumber===n.round);return{...O,network:e,status:p.getRoundStatusForUser(n.is_participant,f,O),claimData:{contractAddress:R,node:{index:n.index,account:o,amount:V.BigNumber.from(n.amount)},proof:n.proof},claimAmount:d?.gt(0)?d:new T.A(0),isParticipantOfPrevRounds:!0,isParticipantOfCurrentRound:n.is_participant,isAlreadyClaimed:n.already_claimed_from_old_contract||f}})}{const d=C.find(f=>f.roundNumber===n.round);return new Promise(f=>f({...d,network:e,status:p.getRoundStatusForUser(n.is_participant,!1,d),...n,claimData:{...d.claimData,node:{...d.claimData.node,account:o}},...n.already_claimed_from_old_contract&&{isAlreadyClaimed:!0,isParticipantOfPrevRounds:!0,isParticipantOfCurrentRound:n.is_participant}}))}}),J=yield Promise.all(X);p._rounds$.next(J)})()}getRoundStatusForUser(o,e,c){return!this.EXPIRED_ROUNDS_NUMBER.includes(c.roundNumber)||e&&o?c.status:"expired"}static#t=this.\u0275fac=function(e){return new(e||r)(i.KVO(x))};static#r=this.\u0275prov=i.jDH({token:r,factory:r.\u0275fac})}return r})(),L=(()=>{class r{static#t=this.\u0275fac=function(e){return new(e||r)};static#r=this.\u0275mod=i.$C({type:r});static#e=this.\u0275inj=i.G2t({providers:[K,x],imports:[a.MD,Q,h.X1,u.G,N.Q3,F.zi,B.e1,b.CN,l.FC,v.Yc,D.Pv]})}return r})()},50317:(y,m,t)=>{t.d(m,{q:()=>h});var a=t(17705);let h=(()=>{class u{static#t=this.\u0275fac=function(l){return new(l||u)};static#r=this.\u0275cmp=a.VBU({type:u,selectors:[["app-no-result"]],inputs:{label:"label",description:"description"},decls:6,vars:2,consts:[[1,"component-container"],[1,"component-container__label"],[1,"component-container__description"],["src","/assets/images/not-found.svg","alt",""]],template:function(l,v){1&l&&(a.j41(0,"div",0)(1,"div",1),a.EFF(2),a.k0s(),a.j41(3,"div",2),a.EFF(4),a.k0s(),a.nrm(5,"img",3),a.k0s()),2&l&&(a.R7$(2),a.JRh(v.label),a.R7$(2),a.JRh(v.description))},styles:[".component-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px;align-items:center;justify-content:center;padding:10px}.component-container__label[_ngcontent-%COMP%]{color:var(--tui-text-01);font-size:21px}.component-container__description[_ngcontent-%COMP%]{margin-bottom:10px;color:var(--tui-text-03);font-size:15px}.component-container__img[_ngcontent-%COMP%]{width:120px}"],changeDetection:0})}return u})()}}]);